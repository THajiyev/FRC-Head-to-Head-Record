<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<link rel= "stylesheet" type= "text/css" href= "{{url_for('static',filename='style.css')}}">
{% if haveContent %}
<title>{{team1}} vs {{team2}}</title>
{% else %}
<title>Compare Teams</title>
<script language="javascript">
if (window.matchMedia("(orientation: portrait)").matches) {
  alert("Please use landscape mode for a better experience");
}
</script>
{% endif %}
<style>
  table, th, td {
      border:1px solid black;
  } 
  input[type=text] {
    width: 100%;
    padding: 12px 20px;
    margin: 8px 0;
    box-sizing: border-box;
  }
</style>
<script language="javascript">
    function checkInput(ob, event) 
    {
      var invalidChars = /[^0-9]/gi
      if (event.keyCode == 13) 
      {
        ob.value = ob.value.replace(invalidChars,"");
        document.getElementById("myform").submit();
      }
      else if(invalidChars.test(ob.value)) 
      {
        ob.value = ob.value.replace(invalidChars,"");
      }
    }
</script>
</head>
<body> 
<div style="position: relative; min-height: 100vh;">
<a href="https://github.com/THajiyev/FRC-Head-to-Head-Record" target="_blank" style="position: absolute; right: 2vh; top: 0;">GitHub Repository</a>
<br>
<form method="POST" id="myform">
    <div style="display: flex; align-content: center;">
    <div style="width: 30%;"></div>
    {% if haveContent==false %}
    <textarea name="team1" placeholder="Team #" id="team1" maxlength="4" class="form-control" onkeyup="checkInput(this, event)"></textarea>
    <textarea name="team2" placeholder="Team #" id="team2" maxlength="4" class="form-control" onkeyup="checkInput(this, event)"></textarea>
    {% else %}
    <textarea name="team1" placeholder="Team #" id="team1" maxlength="4" class="form-control" onkeyup="checkInput(this, event)">{{team1}}</textarea>
    <textarea name="team2" placeholder="Team #" id="team2" maxlength="4" class="form-control" onkeyup="checkInput(this, event)">{{team2}}</textarea>
    {% endif %}
    <div style="width: 30%;"></div>
    </div>  
    <div align="center">
    <button type="submit" class="btn btn-primary" style="width: 20%;" id="get_record">Compare</button>
    </div>
</form>
<br>
{% if haveContent %}
<div class="row">
<div class="text_column">
<table style="width:100%">
    <tr style="text-align: center;">
        <td>Team 1</td>
        <td>Score 1</td>
        <td>Score 2</td>
        <td>Team 2</td>
        <td>Year</td>
    </tr>
    {% for match in information %}
    <tr style="text-align: center;">
        <td>{{match.firstTeam}}</td>
        <td>{{match.firstTeamScore}}</td>
        <td>{{match.secondTeamScore}}</td>
        <td>{{match.secondTeam}}</td>
        <td>{{match.year}}</td>
    </tr>
    {% endfor %}
</table>
</div> 
<div class="pic_column" align="middle">
  <img src="data:image/png;base64, {{ graph_url }}" align="middle">
</div>
</div>
{% endif %}
<br/><br/><br/>
<footer id="footer" style="text-align: center;">Powered by <a href="https://www.thebluealliance.com" target="_blank">The Blue Alliance</a></footer>
</div>
</body>
</html>